import{o as a,c as d,a as t,r as v,f as q,w as M,u as r,P as g,M as l,s as A,K as p,J as I,G as B,H as S,a3 as F,I as H,ah as P,ai as G,aj as J}from"./@vue-D_0RU2Tl.js";import{a as K,b as R}from"./element-plus-CohCRYw0.js";import{s as O,l as Q,a as W,g as X}from"./index-C1sYJK0J.js";import{_ as Y}from"./plugin-vueexport-helper-DlAUqK2U.js";import"./@element-plus-ChLHN-JF.js";import"./@ctrl-r5W6hzzQ.js";import"./@vueuse-BHQltXxO.js";import"./lodash-es-BZZZw3H7.js";import"./@popperjs-D9SI2xQl.js";import"./pinia-BPHYnNsg.js";import"./colorthief-KyleDAT0.js";import"./axios-B4uVmeYG.js";import"./vue-router-DG80t9WM.js";const Z={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ee=t("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",color:"currentColor"},[t("path",{d:"M2 9c0-3.3 0-4.95 1.025-5.975S5.7 2 9 2h2c3.3 0 4.95 0 5.975 1.025S18 5.7 18 9v2c0 3.3 0 4.95-1.025 5.975S14.3 18 11 18H9c-3.3 0-4.95 0-5.975-1.025S2 14.3 2 11z"}),t("path",{d:"M18.238 7c1.335.081 2.185.305 2.798.917c.964.964.964 2.516.964 5.62v1.88c0 3.103 0 4.655-.964 5.619S18.52 22 15.417 22h-1.88c-3.104 0-4.656 0-5.62-.964c-.612-.613-.836-1.463-.917-2.798M11 12V6c.222.4.4 2.08 2 2.4M11 12a2 2 0 1 1-4 0a2 2 0 0 1 4 0"})],-1),te=[ee];function oe(s,u){return a(),d("svg",Z,[...te])}const ne={name:"hugeicons-playlist02",render:oe},ie={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},re=t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 6s6 4.419 6 6s-6 6-6 6",color:"currentColor"},null,-1),se=[re];function ce(s,u){return a(),d("svg",ie,[...se])}const le={name:"hugeicons-arrow-right01",render:ce},ae={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ue=t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4 7c0-1.414 0-2.121.44-2.56C4.878 4 5.585 4 7 4s2.121 0 2.56.44C10 4.878 10 5.585 10 7v10c0 1.414 0 2.121-.44 2.56C9.122 20 8.415 20 7 20s-2.121 0-2.56-.44C4 19.122 4 18.415 4 17zm10 0c0-1.414 0-2.121.44-2.56C14.878 4 15.585 4 17 4s2.121 0 2.56.44C20 4.878 20 5.585 20 7v10c0 1.414 0 2.121-.44 2.56c-.439.44-1.146.44-2.56.44s-2.121 0-2.56-.44C14 19.122 14 18.415 14 17z",color:"currentColor"},null,-1),de=[ue];function _e(s,u){return a(),d("svg",ae,[...de])}const me={name:"hugeicons-pause",render:_e},pe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},he=t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M18.89 12.846c-.353 1.343-2.023 2.292-5.364 4.19c-3.23 1.835-4.845 2.752-6.146 2.384a3.25 3.25 0 0 1-1.424-.841C5 17.614 5 15.743 5 12s0-5.614.956-6.579a3.25 3.25 0 0 1 1.424-.84c1.301-.37 2.916.548 6.146 2.383c3.34 1.898 5.011 2.847 5.365 4.19a3.3 3.3 0 0 1 0 1.692",color:"currentColor"},null,-1),ge=[he];function ve(s,u){return a(),d("svg",pe,[...ge])}const fe={name:"hugeicons-play",render:ve},ye={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ke=t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M15 6s-6 4.419-6 6s6 6 6 6",color:"currentColor"},null,-1),we=[ke];function Ce(s,u){return a(),d("svg",ye,[...we])}const $e={name:"hugeicons-arrow-left01",render:Ce},xe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Me=t("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",color:"currentColor"},[t("path",{d:"M7.769 7.997c1.34-.822 2.51-.49 3.214.037c.288.216.432.325.517.325s.229-.109.517-.325c.703-.528 1.874-.86 3.214-.037c1.76 1.08 2.158 4.64-1.9 7.645c-.774.572-1.16.858-1.831.858c-.67 0-1.057-.286-1.83-.858c-4.06-3.005-3.661-6.566-1.901-7.645"}),t("path",{d:"M2 12c0-4.478 0-6.718 1.391-8.109S7.021 2.5 11.5 2.5c4.478 0 6.718 0 8.109 1.391S21 7.521 21 12c0 4.478 0 6.718-1.391 8.109S15.979 21.5 11.5 21.5c-4.478 0-6.718 0-8.109-1.391S2 16.479 2 12"})],-1),Ie=[Me];function Be(s,u){return a(),d("svg",xe,[...Ie])}const Se={name:"hugeicons-favourite-square",render:Be},be=s=>(P("data-v-96f0063c"),s=s(),G(),s),je=["src"],Te={id:"outer"},ze=be(()=>t("div",{id:"background"},null,-1)),Ve={class:"column",id:"column-player"},Ee={id:"container-player"},Ne={id:"music-name"},Le={id:"music-artist"},Ue={id:"player-centerblock"},De=["alt","src"],qe={id:"music-progress"},Ae={id:"btn-control"},Fe={id:"btn-like"},He={id:"btn-play-control"},Pe={id:"btn-prev"},Ge={id:"btn-pause"},Je={id:"btn-next"},Ke={id:"btn-list"},Re={class:"column",id:"column-lyric"},Oe={id:"container-lyric"},Qe=["id"],We={class:"lyric-roma"},Xe={class:"lyric-tran"},Ye={__name:"player",props:["id"],setup(s){J(o=>({"7b2ccf61":r(C)}));let u=s,i=v({name:"",artist:"",audio:{url:"",duration:100,paused:!0},pic:{url:""},lyric:[]}),f=v(),h=v(0),C=v("");q(()=>{let o=document.getElementById("audio");$(),setInterval(()=>{isNaN(o.duration)==!0?i.value.audio.duration=100:i.value.audio.duration=o.duration,i.value.audio.paused=o.paused,h.value=o.currentTime;for(let n=0;n<i.value.lyric.length;n++){let e=!1;if((n==i.value.lyric.length-1||i.value.lyric[n+1].time>o.currentTime*1e3)&&(e=!0),i.value.lyric[n].time<=o.currentTime*1e3&&e==!0){f.value=n;break}}},50)});function $(){b(),j(),T()}M(f,o=>{document.getElementById("container-lyric").scrollTo({top:document.getElementById("lrc-"+o).offsetTop-200,behavior:"smooth"})}),M(u,()=>{$()},{deep:!0});async function b(){let o=await O(u.id);i.value.name=o.data.songs[0].name;let n=o.data.songs[0].ar.map(e=>e.name);i.value.artist=n.join("、"),i.value.pic.url=o.data.songs[0].al.picUrl}async function j(){let o=await Q(u.id);i.value.lyric=[];let n=o.data.lrc.lyric.split(`
`);for(let e=0;e<n.length;e++)i.value.lyric.push({time:y(n[e]),lrc:k(n[e]),roma:"",tran:""});n=o.data.romalrc.lyric.split(`
`);for(let e=0;e<n.length;e++)for(let c=0;c<i.value.lyric.length;c++)i.value.lyric[c].time==y(n[e])&&(i.value.lyric[c].roma=k(n[e]));n=o.data.tlyric.lyric.split(`
`);for(let e=0;e<n.length;e++)for(let c=0;c<i.value.lyric.length;c++)i.value.lyric[c].time==y(n[e])&&(i.value.lyric[c].tran=k(n[e]))}async function T(){let o=await W(u.id,"jymaster");i.value.audio.url=o.data.data[0].url,setTimeout(()=>{audio.play()},200)}function z(o){audio.currentTime=o,audio.play()}function y(o){let e=/\[(\d+):(\d+)[:.](\d+)\]/.exec(o);return e==null?0:(e[3].length==1&&(e[3]="0"+e[3]),(parseInt(e[1])*60+parseInt(e[2]))*1e3+parseInt(e[3].slice(0,2))*10)}function k(o){let e=/\[\d+:\d+[:.]\d+\](.*)/.exec(o);return e==null?"":e[1]}function V(){let o=X(document.getElementById("music-img"),2);C.value=`linear-gradient(${o[0]}, ${o[1]})`}function x(o){o==!0?audio.play():audio.pause()}return(o,n)=>{const e=K,c=Se,m=R,E=$e,N=fe,L=me,U=le,D=ne;return a(),d(S,null,[t("audio",{src:r(i).audio.url,id:"audio",autoplay:""},null,8,je),t("div",Te,[ze,t("div",Ve,[t("div",Ee,[t("div",Ne,g(r(i).name),1),t("div",Le,g(r(i).artist),1),t("div",Ue,[t("img",{alt:"专辑图片-"+r(i).name,src:r(i).pic.url,id:"music-img",onLoad:V,crossorigin:"anonymous"},null,40,De),t("div",qe,[l(e,{modelValue:r(h),"onUpdate:modelValue":n[0]||(n[0]=_=>A(h)?h.value=_:h=_),max:r(i).audio.duration,"show-tooltip":!1,onInput:z},null,8,["modelValue","max"])]),t("div",Ae,[t("div",Fe,[l(m,{size:"3.5rem",class:"icon"},{default:p(()=>[l(c)]),_:1})]),t("div",He,[t("div",Pe,[l(m,{size:"3.5rem",class:"icon"},{default:p(()=>[l(E)]),_:1})]),t("div",Ge,[r(i).audio.paused?(a(),I(m,{key:0,size:"3.5rem",class:"icon",onClick:n[1]||(n[1]=_=>x(!0))},{default:p(()=>[l(N)]),_:1})):B("",!0),r(i).audio.paused?B("",!0):(a(),I(m,{key:1,size:"3.5rem",class:"icon",onClick:n[2]||(n[2]=_=>x(!1))},{default:p(()=>[l(L)]),_:1}))]),t("div",Je,[l(m,{size:"3.5rem",class:"icon"},{default:p(()=>[l(U)]),_:1})])]),t("div",Ke,[l(m,{size:"3.5rem",class:"icon"},{default:p(()=>[l(D)]),_:1})])])])])]),t("div",Re,[t("div",Oe,[t("ul",null,[(a(!0),d(S,null,F(r(i).lyric,(_,w)=>(a(),d("div",{key:w,class:H({"lyric-active":r(f)==w})},[t("li",{class:"lyric-lrc",id:"lrc-"+w},g(_.lrc),9,Qe),t("li",We,g(_.roma),1),t("li",Xe,g(_.tran),1)],2))),128))])])])])],64)}}},_t=Y(Ye,[["__scopeId","data-v-96f0063c"]]);export{_t as default};
