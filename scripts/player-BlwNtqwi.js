import{o as i,c as l,a as e,r as v,h as T,x as P,w as q,P as h,u as n,M as s,s as A,K as u,J as $,G as x,H as F,a3 as H,I as L,ah as R,ai as U,aj as D}from"./@vue-D3pvTY_l.js";import{E as G,a as J,b as K}from"./element-plus-oyuo57Ko.js";import{s as O}from"./pinia-kgQhn9yY.js";import{u as Q,g as W}from"./index-_J3eOAI9.js";import{_ as X}from"./plugin-vueexport-helper-DlAUqK2U.js";import"./@element-plus-BCXCoKlP.js";import"./@ctrl-r5W6hzzQ.js";import"./@vueuse-DNwJiFAQ.js";import"./lodash-es-BGGVqKTz.js";import"./@popperjs-D9SI2xQl.js";import"./colorthief-KyleDAT0.js";import"./axios-B4uVmeYG.js";import"./vue-router-D7nK3hD1.js";const Y={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Z=e("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",color:"currentColor"},[e("path",{d:"M2 9c0-3.3 0-4.95 1.025-5.975S5.7 2 9 2h2c3.3 0 4.95 0 5.975 1.025S18 5.7 18 9v2c0 3.3 0 4.95-1.025 5.975S14.3 18 11 18H9c-3.3 0-4.95 0-5.975-1.025S2 14.3 2 11z"}),e("path",{d:"M18.238 7c1.335.081 2.185.305 2.798.917c.964.964.964 2.516.964 5.62v1.88c0 3.103 0 4.655-.964 5.619S18.52 22 15.417 22h-1.88c-3.104 0-4.656 0-5.62-.964c-.612-.613-.836-1.463-.917-2.798M11 12V6c.222.4.4 2.08 2 2.4M11 12a2 2 0 1 1-4 0a2 2 0 0 1 4 0"})],-1),ee=[Z];function oe(r,t){return i(),l("svg",Y,[...ee])}const te={name:"hugeicons-playlist02",render:oe},ne={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},se=e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 6s6 4.419 6 6s-6 6-6 6",color:"currentColor"},null,-1),ie=[se];function re(r,t){return i(),l("svg",ne,[...ie])}const ce={name:"hugeicons-arrow-right01",render:re},le={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ae=e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4 7c0-1.414 0-2.121.44-2.56C4.878 4 5.585 4 7 4s2.121 0 2.56.44C10 4.878 10 5.585 10 7v10c0 1.414 0 2.121-.44 2.56C9.122 20 8.415 20 7 20s-2.121 0-2.56-.44C4 19.122 4 18.415 4 17zm10 0c0-1.414 0-2.121.44-2.56C14.878 4 15.585 4 17 4s2.121 0 2.56.44C20 4.878 20 5.585 20 7v10c0 1.414 0 2.121-.44 2.56c-.439.44-1.146.44-2.56.44s-2.121 0-2.56-.44C14 19.122 14 18.415 14 17z",color:"currentColor"},null,-1),de=[ae];function _e(r,t){return i(),l("svg",le,[...de])}const ue={name:"hugeicons-pause",render:_e},me={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},he=e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M18.89 12.846c-.353 1.343-2.023 2.292-5.364 4.19c-3.23 1.835-4.845 2.752-6.146 2.384a3.25 3.25 0 0 1-1.424-.841C5 17.614 5 15.743 5 12s0-5.614.956-6.579a3.25 3.25 0 0 1 1.424-.84c1.301-.37 2.916.548 6.146 2.383c3.34 1.898 5.011 2.847 5.365 4.19a3.3 3.3 0 0 1 0 1.692",color:"currentColor"},null,-1),pe=[he];function ge(r,t){return i(),l("svg",me,[...pe])}const ve={name:"hugeicons-play",render:ge},fe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ke=e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M15 6s-6 4.419-6 6s6 6 6 6",color:"currentColor"},null,-1),ye=[ke];function Ce(r,t){return i(),l("svg",fe,[...ye])}const we={name:"hugeicons-arrow-left01",render:Ce},$e={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},xe=e("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",color:"currentColor"},[e("path",{d:"M7.769 7.997c1.34-.822 2.51-.49 3.214.037c.288.216.432.325.517.325s.229-.109.517-.325c.703-.528 1.874-.86 3.214-.037c1.76 1.08 2.158 4.64-1.9 7.645c-.774.572-1.16.858-1.831.858c-.67 0-1.057-.286-1.83-.858c-4.06-3.005-3.661-6.566-1.901-7.645"}),e("path",{d:"M2 12c0-4.478 0-6.718 1.391-8.109S7.021 2.5 11.5 2.5c4.478 0 6.718 0 8.109 1.391S21 7.521 21 12c0 4.478 0 6.718-1.391 8.109S15.979 21.5 11.5 21.5c-4.478 0-6.718 0-8.109-1.391S2 16.479 2 12"})],-1),Se=[xe];function Be(r,t){return i(),l("svg",$e,[...Se])}const Ie={name:"hugeicons-favourite-square",render:Be},Me=r=>(R("data-v-78d757ea"),r=r(),U(),r),be={id:"outer"},ze=Me(()=>e("div",{id:"background"},null,-1)),Ee={class:"column",id:"column-player"},Ve={id:"container-player"},je={id:"music-name"},Ne={id:"music-artist"},Te={id:"player-centerblock"},Pe=["alt","src"],qe={id:"music-progress"},Ae={id:"btn-control"},Fe={id:"btn-like"},He={id:"btn-play-control"},Le={id:"btn-prev"},Re={id:"btn-pause"},Ue={id:"btn-next"},De={id:"btn-list"},Ge={class:"column",id:"column-lyric"},Je={id:"container-lyric"},Ke=["id"],Oe={class:"lyric-roma"},Qe={class:"lyric-tran"},We={__name:"player",setup(r){D(o=>({"180c5e54":n(y)}));let t=Q(),{playlist:Xe,playlistIndex:Ye,lyric:S,currentMusic:p}=O(t),a=t.player,g=v({audio:{duration:0,paused:!0}}),f=v(),m=v(0),y=v(""),C=NaN;T(async()=>{C=setInterval(()=>{try{isNaN(a.duration)==!0?g.value.audio.duration=100:g.value.audio.duration=a.duration,g.value.audio.paused=a.paused,m.value=a.currentTime;for(let o=0;o<t.lyric.length;o++){let c=!1;if((o==t.lyric.length-1||t.lyric[o+1].time>a.currentTime*1e3)&&(c=!0),t.lyric[o].time<=a.currentTime*1e3&&c==!0){f.value=o;break}}}catch(o){G({message:`进度条或歌词滚动出错
${o}`,type:"error"})}},50)}),P(()=>{clearInterval(C)}),q(f,o=>{document.getElementById("container-lyric").scrollTo({top:document.getElementById("lrc-"+o).offsetTop-200,behavior:"smooth"})});function B(o){a.currentTime=o,a.play()}function I(){let o=W(document.getElementById("music-img"),2);y.value=`linear-gradient(${o[0]}, ${o[1]})`}function w(o){o==!0?t.play():t.pause()}return(o,c)=>{const M=J,b=Ie,_=K,z=we,E=ve,V=ue,j=ce,N=te;return i(),l("div",be,[ze,e("div",Ee,[e("div",Ve,[e("div",je,h(n(p).name),1),e("div",Ne,h(n(p).artist),1),e("div",Te,[e("img",{alt:"专辑图片-"+n(p).name,src:n(p).picurl,id:"music-img",onLoad:I,crossorigin:"anonymous"},null,40,Pe),e("div",qe,[s(M,{modelValue:n(m),"onUpdate:modelValue":c[0]||(c[0]=d=>A(m)?m.value=d:m=d),max:n(g).audio.duration,"show-tooltip":!1,onInput:B},null,8,["modelValue","max"])]),e("div",Ae,[e("div",Fe,[s(_,{size:"3.5rem",class:"icon"},{default:u(()=>[s(b)]),_:1})]),e("div",He,[e("div",Le,[s(_,{size:"3.5rem",class:"icon",onClick:n(t).prev},{default:u(()=>[s(z)]),_:1},8,["onClick"])]),e("div",Re,[n(t).paused?(i(),$(_,{key:0,size:"3.5rem",class:"icon",onClick:c[1]||(c[1]=d=>w(!0))},{default:u(()=>[s(E)]),_:1})):x("",!0),n(t).paused?x("",!0):(i(),$(_,{key:1,size:"3.5rem",class:"icon",onClick:c[2]||(c[2]=d=>w(!1))},{default:u(()=>[s(V)]),_:1}))]),e("div",Ue,[s(_,{size:"3.5rem",class:"icon",onClick:n(t).next},{default:u(()=>[s(j)]),_:1},8,["onClick"])])]),e("div",De,[s(_,{size:"3.5rem",class:"icon"},{default:u(()=>[s(N)]),_:1})])])])])]),e("div",Ge,[e("div",Je,[e("ul",null,[(i(!0),l(F,null,H(n(S),(d,k)=>(i(),l("div",{key:k,class:L({"lyric-active":n(f)==k})},[e("li",{class:"lyric-lrc",id:"lrc-"+k},h(d.lrc),9,Ke),e("li",Oe,h(d.roma),1),e("li",Qe,h(d.tran),1)],2))),128))])])])])}}},mo=X(We,[["__scopeId","data-v-78d757ea"]]);export{mo as default};
