import{f as x,v as C,g as N}from"./element-plus-oyuo57Ko.js";import{u as A}from"./vue-router-D7nK3hD1.js";import{u as B,r as L,p as U}from"./index-CHGFc8Af.js";import{m as b}from"./musicList-DaN46QzV.js";import{_ as M}from"./plugin-vueexport-helper-DlAUqK2U.js";import{r as u,w as T,h as V,R as E,u as a,o,c as n,a as s,G as _,P as c,H as P,a3 as R,M as y,K as v,J as $,ak as g}from"./@vue-D3pvTY_l.js";import"./@element-plus-BCXCoKlP.js";import"./@ctrl-r5W6hzzQ.js";import"./@vueuse-DNwJiFAQ.js";import"./lodash-es-BGGVqKTz.js";import"./@popperjs-D9SI2xQl.js";import"./pinia-kgQhn9yY.js";import"./colorthief-KyleDAT0.js";import"./axios-B4uVmeYG.js";import"./naive-ui-JkU8CFLE.js";import"./@css-render-6k9hkExW.js";import"./css-render-BDrvWz3H.js";import"./@emotion-WldOFDRm.js";import"./seemly-B0ZdrqHg.js";import"./vooks-Bj6v0SNN.js";const z={id:"playlistDetail"},F=["src"],G={id:"playlistInfo"},H={id:"playlistName"},J={key:0,id:"playlistAuthor"},K=["src"],O={id:"playlistAuthorName"},j={id:"playlistTagContainer"},q={id:"playlistDesc"},Q={id:"playlistControler"},W={id:"playlistMusicList"},X={__name:"playlist",props:["id","isDailySongs"],setup(f){const r=B(),d=A();let l=u(!1),t=u([]),p=f;T(p,()=>{t.value={},m()},{deep:!0}),V(()=>{m()});async function m(){if(p.isDailySongs){let e=await L(),i=new Date;t.value={tracks:e.data.data.dailySongs,name:`${i.getMonth()+1}/${i.getDate()} 每日推荐`,description:"根据你的音乐口味生成，每天06:00更新",coverImgUrl:e.data.data.dailySongs[0].al.picUrl,tags:["每日推荐"]}}else{let e=await U(p.id);t.value=e.data.playlist}}async function h(){l.value=!0,await r.playlistInit(t.value.tracks.map(e=>e.id)),l.value=!1,d.push({name:"player"})}async function k(e){l.value=!0;let i=r.playlistIds;i=i.splice(r.playlistIndex,0,e),await r.playlistInit(i),l.value=!1,d.push({name:"player"})}return(e,i)=>{const I=N,w=x,D=C;return E((o(),n("div",null,[s("div",z,[a(t).coverImgUrl?(o(),n("img",{key:0,id:"playlistImg",src:a(t).coverImgUrl},null,8,F)):_("",!0),s("div",G,[s("div",H,c(a(t).name),1),a(t).creator?(o(),n("div",J,[s("img",{id:"playlistAuthorAvatar",src:a(t).creator.avatarUrl},null,8,K),s("div",O,c(a(t).creator.nickname),1),s("span",j,[(o(!0),n(P,null,R(a(t).tags,S=>(o(),$(I,{type:"success",size:"small",class:"playlistTag"},{default:v(()=>[g(c(S),1)]),_:2},1024))),256))])])):_("",!0),s("div",q,c(a(t).description),1),s("div",Q,[y(w,{onClick:h},{default:v(()=>[g("播放全部")]),_:1})])])]),s("div",W,[y(b,{value:a(t).tracks,nameOnClick:k},null,8,["value"])])])),[[D,!a(t).tracks|a(l),void 0,{fullscreen:!0}]])}}},ft=M(X,[["__scopeId","data-v-9bb82b27"]]);export{ft as default};
