import{a as A,y as B,r as v,w as C,o as N,aj as U,ak as L,c as l,d as i,g as s,e as a,j as c,t as r,F as M,m as V,f as p,h as d,i as T,A as m,_ as j}from"./index-CXOPteNE.js";import{m as z,_ as F}from"./musicList-CDpHLin3.js";import{_ as P}from"./plugin-vueexport-helper-Dj9qpLSB.js";import{B as $}from"./Button-CKa3Era5.js";import{_ as b}from"./Ellipsis-Cv5IpwA7.js";import"./use-compitable-CY2lIT_q.js";import"./heart-outlined-C-fNAorH.js";import"./Card-BhN4biH7.js";import"./Follower-BfrG03z_.js";import"./clickoutside-r22d9OTv.js";const E={key:"playlst-content"},O={class:"playlistDetail"},R={key:0,class:"playlistImg"},q=["src"],G={class:"playlistInfo"},H={class:"playlistName playlist-info-item"},J={key:0,class:"playlistAuthor playlist-info-item"},K=["src"],Q={class:"playlistAuthorName"},W={class:"playlistTagContainer"},X={class:"playlist-desc playlist-info-item"},Y={class:"playlistControler playlist-info-item"},Z={id:"playlistMusicList"},tt={class:"playlist-spin",key:"playlst-spin"},st={__name:"playlist",props:["id","isDailySongs"],setup(f){const n=A(),y=B();let o=v(!1),t=v([]),_=f;C(_,()=>{console.log("playlist组件props被更新"),t.value={},g()},{deep:!0}),N(()=>{console.log("playlist组件被挂载"),g()});async function g(){if(_.isDailySongs){let e=await U(),u=new Date;t.value={tracks:e.data.data.dailySongs,name:`${u.getMonth()+1}/${u.getDate()} 每日推荐`,description:"根据你的音乐口味生成，每天06:00更新",coverImgUrl:e.data.data.dailySongs[0].al.picUrl,tags:["每日推荐"]}}else{let e=await L(_.id);t.value=e.data.playlist}}async function h(){o.value=!0,await n.playlistInit(null,t.value.tracks),n.play(!0),y.push({name:"player"}),o.value=!1}async function k(e){o.value=!0,await n.addMusic([e],0,!0),n.play(!0),y.push({name:"player"}),o.value=!1}return(e,u)=>{const w=j,S=b,D=$,I=F;return l(),i("div",null,[s(t).tracks&&!s(o)?(l(),i("div",E,[a("div",O,[s(t).coverImgUrl?(l(),i("div",R,[a("img",{src:s(t).coverImgUrl},null,8,q)])):c("",!0),a("div",G,[a("div",H,r(s(t).name),1),s(t).creator?(l(),i("div",J,[a("img",{class:"playlistAuthorAvatar",src:s(t).creator.avatarUrl},null,8,K),a("div",Q,r(s(t).creator.nickname),1),a("span",W,[(l(!0),i(M,null,V(s(t).tags,x=>(l(),T(w,{type:"success",size:"small",class:"playlistTag"},{default:d(()=>[m(r(x),1)]),_:2},1024))),256))])])):c("",!0),a("div",X,[p(S,{style:{"max-width":"100%"},"line-clamp":3},{default:d(()=>[m(r(s(t).description),1)]),_:1})]),a("div",Y,[p(D,{onClick:h},{default:d(()=>[m("播放全部")]),_:1})])])]),a("div",Z,[p(z,{value:s(t).tracks,nameOnClick:k},null,8,["value"])])])):c("",!0),!s(t).tracks||s(o)?(l(),i("div",tt,[p(I,{size:"large"})])):c("",!0)])}}},ut=P(st,[["__scopeId","data-v-adda1e30"]]);export{ut as default};
