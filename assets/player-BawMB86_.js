import{M as $,_ as E,S as F,p as q,a as O,b as P,c as j,d as A,e as D}from"./marqueePlus-Ch96YOwW.js";import{_ as W,a as G}from"./heart-outlined-DcHWPiUb.js";import{u as H,a as J,s as K,r as f,c as Q,o as X,w as Y,b as Z,d as c,e as g,f as s,g as o,h as t,t as m,i as r,j as y,k as v,l as b,m as ss,n as C,F as ts,p as es,q as os,v as ns,x as is,y as ls}from"./index-Dx6XC-9U.js";import{_ as as,N as cs}from"./plugin-vueexport-helper-BTOEYNaF.js";import"./fade-in-scale-up.cssr-rYuHKBrM.js";import"./Follower-Cm-hFNZ3.js";const rs=p=>(ns("data-v-85fcdef5"),p=p(),is(),p),_s={id:"playerOoouter"},ds={id:"playerOuter"},us=rs(()=>s("div",{id:"playerBackground"},null,-1)),ps={id:"playerContent"},ms={class:"column",id:"column-player"},ys={id:"container-player"},vs={id:"music-name"},fs={id:"music-artist"},gs={id:"player-centerblock"},ks={id:"music-img-container"},hs=["alt","src"],bs={id:"music-progress"},Cs={id:"btn-control"},Ss={id:"btn-like",class:"button"},Is={id:"btn-play-control"},xs={id:"btn-prev",class:"button"},Ls={id:"btn-pause",class:"button"},Bs={id:"btn-next",class:"button"},ws={id:"btn-list",class:"button"},zs={class:"column",id:"column-lyric"},Ns={class:"lyric-list"},Ts=["id"],Ms={class:"lyric-roma"},Rs={class:"lyric-tran"},Us={class:"player-playinglist"},Vs={__name:"player",setup(p){ls(_=>({"81e39924":t(h),"3875fbee":t(I)})),H();let n=J(),{currentMusic:i}=K(n),k=f(),h=f(""),S=NaN,a=f(!1),I=Q(()=>a.value?"0%":"100%");X(async()=>{Y(()=>i.value.currentLyricIndex,_=>{var e;console.log("当前歌词改变"),k.value.scrollTo({top:((e=document.getElementById("lrc-"+_))==null?void 0:e.offsetTop)-200,behavior:"smooth"})},{deep:!0})}),Z(()=>{clearInterval(S)});function x(){let _=ss(document.getElementById("music-img"),2);h.value=`linear-gradient(${_[0]}, ${_[1]})`}return(_,e)=>{const L=E,B=W,w=G,d=cs,z=O,N=P,T=j,M=A,R=D,U=F;return c(),g("div",_s,[s("div",ds,[us,s("div",ps,[s("div",ms,[s("div",ys,[s("div",vs,[o($,{html:t(n).nameWithTns},null,8,["html"])]),s("div",fs,m(t(i).artist),1),s("div",gs,[s("div",ks,[s("img",{alt:"专辑图片-"+t(i).name,src:t(i).picurl,id:"music-img",onLoad:x,crossorigin:"anonymous"},null,40,hs)]),s("div",bs,[o(L,{value:t(n).musicStatus.currentTime,"onUpdate:value":[e[0]||(e[0]=l=>t(n).musicStatus.currentTime=l),e[1]||(e[1]=l=>t(n).seek(l))],max:t(n).musicStatus.duration,tooltip:!1,"show-tooltip":!1},null,8,["value","max"])]),s("div",Cs,[s("div",Ss,[o(d,{size:"2.5rem",class:"icon"},{default:r(()=>{var l,u;return[(l=t(i))!=null&&l.isLiked?v("",!0):(c(),y(B,{key:0,onClick:e[2]||(e[2]=V=>C(t(i).id,!0))})),(u=t(i))!=null&&u.isLiked?(c(),y(w,{key:1,onClick:e[3]||(e[3]=V=>C(t(i).id,!1))})):v("",!0)]}),_:1})]),s("div",Is,[s("div",xs,[o(d,{size:"4rem",class:"icon",onClick:t(n).prev},{default:r(()=>[o(z)]),_:1},8,["onClick"])]),s("div",Ls,[t(n).musicStatus.paused?(c(),y(d,{key:0,size:"4rem",class:"icon",onClick:e[4]||(e[4]=()=>t(n).play())},{default:r(()=>[o(N)]),_:1})):v("",!0),t(n).musicStatus.paused?v("",!0):(c(),y(d,{key:1,size:"4rem",class:"icon",onClick:e[5]||(e[5]=()=>t(n).pause())},{default:r(()=>[o(T)]),_:1}))]),s("div",Bs,[o(d,{size:"4rem",class:"icon",onClick:t(n).next},{default:r(()=>[o(M)]),_:1},8,["onClick"])])]),s("div",ws,[o(d,{size:"2.5rem",class:"icon",onClick:e[6]||(e[6]=()=>{b(a)?a.value=!t(a):a=!t(a)})},{default:r(()=>[o(R)]),_:1})])])])])]),s("div",zs,[o(U,{id:"container-lyric",ref_key:"lyricScrollbarRef",ref:k},{default:r(()=>[s("ul",Ns,[(c(!0),g(ts,null,es(t(i).lyric,(l,u)=>(c(),g("div",{key:u,class:os({"lyric-active":t(i).currentLyricIndex==u})},[s("li",{class:"lyric-lrc",id:"lrc-"+u},m(l.lrc),9,Ts),s("li",Ms,m(l.roma),1),s("li",Rs,m(l.tran),1)],2))),128))])]),_:1},512)])])]),s("div",{class:"player-playinglist-box",onClick:e[7]||(e[7]=()=>{b(a)?a.value=!1:a=!1})},[s("div",Us,[o(q)])])])}}},js=as(Vs,[["__scopeId","data-v-85fcdef5"]]);export{js as default};
