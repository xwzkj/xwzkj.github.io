import{p as w,aw as A,q as z,ax as B,d as N,x as $,z as b,j as V,c as v,V as L,ay as P,w as T,B as r,C as d,F as C,u as t,P as u,Q as k,az as y,af as q,y as D,D as F,_ as I,X as U,aA as j,aB as K,al as E,L as _,ar as R,aC as J,S as h,aD as Q,J as X,aE as G}from"./index-cDigE0aY.js";import{E as H}from"./el-input-B0gL4mou.js";import"./isArguments-DxZ9DPgA.js";import"./use-form-item-DaJr_w9W.js";import"./use-form-common-props-QvhumewB.js";const M=w({size:{type:[Number,String],values:A,default:"",validator:i=>z(i)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:B},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:N(String),default:"cover"}}),O={error:i=>i instanceof Event},W=["src","alt","srcset"],Y=$({name:"ElAvatar"}),Z=$({...Y,props:M,emits:O,setup(i,{emit:o}){const s=i,a=b("avatar"),l=V(!1),c=v(()=>{const{size:e,icon:S,shape:g}=s,m=[a.b()];return L(e)&&m.push(a.m(e)),S&&m.push(a.m("icon")),g&&m.push(a.m(g)),m}),n=v(()=>{const{size:e}=s;return z(e)?a.cssVarBlock({size:P(e)||""}):void 0}),f=v(()=>({objectFit:s.fit}));T(()=>s.src,()=>l.value=!1);function p(e){l.value=!0,o("error",e)}return(e,S)=>(r(),d("span",{class:F(t(c)),style:C(t(n))},[(e.src||e.srcSet)&&!l.value?(r(),d("img",{key:0,src:e.src,alt:e.alt,srcset:e.srcSet,style:C(t(f)),onError:p},null,44,W)):e.icon?(r(),u(t(q),{key:1},{default:k(()=>[(r(),u(y(e.icon)))]),_:1})):D(e.$slots,"default",{key:2})],6))}});var x=I(Z,[["__file","avatar.vue"]]);const ee=U(x),ae={id:"header"},se={id:"header-search"},te={__name:"headerTop",setup(i){const o=j();let s=V("");const a=K();function l(c){c.keyCode==13&&a.push({name:"search",query:{keyword:s.value}})}return(c,n)=>{const f=H,p=ee;return r(),d("div",ae,[E("div",{id:"header-title",onClick:n[0]||(n[0]=e=>t(a).push({name:"home"}))},"小丸子音乐"),E("span",se,[_(f,{modelValue:t(s),"onUpdate:modelValue":n[1]||(n[1]=e=>R(s)?s.value=e:s=e),type:"text",placeholder:"回车开始搜索...",onKeyup:l,clearable:""},null,8,["modelValue"])]),t(o).isLogin?h("",!0):(r(),u(p,{key:0,class:"header-user",onClick:n[2]||(n[2]=e=>t(a).push({name:"login"}))},{default:k(()=>[J("登录")]),_:1})),t(o).isLogin?(r(),u(p,{key:1,class:"header-user",src:t(o).avatar,onClick:n[3]||(n[3]=e=>t(a).push({name:"account"}))},null,8,["src"])):h("",!0)])}}},ue={__name:"container",setup(i){return(o,s)=>{const a=Q("router-view");return r(),d(X,null,[_(te),_(a,null,{default:k(({Component:l})=>[o.$route.meta.keepAlive?(r(),u(G,{key:0},[o.$route.meta.keepAlive?(r(),u(y(l),{key:o.$route.name})):h("",!0)],1024)):(r(),u(y(l),{key:o.$route.name}))]),_:1})],64)}}};export{ue as default};
