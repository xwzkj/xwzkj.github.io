import{a as x,z as C,r as v,w as N,o as A,aj as U,ak as L,d as l,e as i,h as s,f as a,k as r,t as c,F as M,p as V,g as p,i as d,j as z,B as m,$ as T}from"./index-BDBGDmqw.js";import{m as $,_ as j}from"./musicList-B9Ay3u2n.js";import{_ as F}from"./plugin-vueexport-helper-D9q4Y5gk.js";import{B as P}from"./Button-D2BYlchz.js";import{_ as b}from"./Ellipsis-yfRc1AK1.js";import"./use-compitable-4lpKq4Ac.js";import"./heart-outlined-Cbhw0Qyi.js";import"./Card-BL1ptG05.js";import"./Follower-Cb5RrjTq.js";import"./clickoutside-BRcHCnja.js";const E={key:"playlst-content"},O={class:"playlistDetail"},R={key:0,class:"playlistImg"},q=["src"],G={class:"playlistInfo"},H={class:"playlistName playlist-info-item"},J={key:0,class:"playlistAuthor playlist-info-item"},K=["src"],Q={class:"playlistAuthorName"},W={class:"playlistTagContainer"},X={class:"playlist-desc playlist-info-item"},Y={class:"playlistControler playlist-info-item"},Z={id:"playlistMusicList"},tt={class:"playlist-spin",key:"playlst-spin"},st={__name:"playlist",props:["id","isDailySongs"],setup(f){const n=x(),y=C();let o=v(!1),t=v([]),_=f;N(_,()=>{console.log("playlist组件props被更新"),t.value={},g()},{deep:!0}),A(()=>{console.log("playlist组件被挂载"),g()});async function g(){if(_.isDailySongs){let e=await U(),u=new Date;t.value={tracks:e.data.data.dailySongs,name:`${u.getMonth()+1}/${u.getDate()} 每日推荐`,description:"根据你的音乐口味生成，每天06:00更新",coverImgUrl:e.data.data.dailySongs[0].al.picUrl,tags:["每日推荐"]}}else{let e=await L(_.id);t.value=e.data.playlist}}async function h(){o.value=!0,await n.playlistInit(null,t.value.tracks),n.play(!0),y.push({name:"player"}),o.value=!1}async function k(e){o.value=!0,await n.addMusic([e],0,!0),n.play(!0),y.push({name:"player"}),o.value=!1}return(e,u)=>{const w=T,S=b,B=P,D=j;return l(),i("div",null,[s(t).tracks&&!s(o)?(l(),i("div",E,[a("div",O,[s(t).coverImgUrl?(l(),i("div",R,[a("img",{src:s(t).coverImgUrl},null,8,q)])):r("",!0),a("div",G,[a("div",H,c(s(t).name),1),s(t).creator?(l(),i("div",J,[a("img",{class:"playlistAuthorAvatar",src:s(t).creator.avatarUrl},null,8,K),a("div",Q,c(s(t).creator.nickname),1),a("span",W,[(l(!0),i(M,null,V(s(t).tags,I=>(l(),z(w,{type:"success",size:"small",class:"playlistTag"},{default:d(()=>[m(c(I),1)]),_:2},1024))),256))])])):r("",!0),a("div",X,[p(S,{style:{"max-width":"100%"},"line-clamp":3},{default:d(()=>[m(c(s(t).description),1)]),_:1})]),a("div",Y,[p(B,{onClick:h},{default:d(()=>[m("播放全部")]),_:1})])])]),a("div",Z,[p($,{value:s(t).tracks,nameOnClick:k},null,8,["value"])])])):r("",!0),!s(t).tracks||s(o)?(l(),i("div",tt,[p(D,{size:"large"})])):r("",!0)])}}},ut=F(st,[["__scopeId","data-v-adda1e30"]]);export{ut as default};
