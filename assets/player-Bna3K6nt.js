import{M as U,_ as V,S as $,p as E,a as F,b as R,c as q,d as O,e as P}from"./marqueePlus-D3Oie4qw.js";import{_ as j,a as A}from"./heart-outlined-C-fNAorH.js";import{u as D,a as W,s as G,r as h,o as H,w as J,b as K,c,d as g,e as s,f as e,g as t,t as p,h as a,i as m,j as y,k as Q,l as k,F as X,m as Y,n as Z,p as ss,q as ts,v as os}from"./index-CXOPteNE.js";import{_ as es,N as ns}from"./plugin-vueexport-helper-Dj9qpLSB.js";import"./fade-in-scale-up.cssr-CBM4gR--.js";import"./Follower-BfrG03z_.js";const is=u=>(ss("data-v-13fe0f02"),u=u(),ts(),u),ls={id:"playerOoouter"},cs={id:"playerOuter"},as=is(()=>s("div",{id:"playerBackground"},null,-1)),rs={id:"playerContent"},_s={class:"column",id:"column-player"},ds={id:"container-player"},us={id:"music-name"},ps={id:"music-artist"},ms={id:"player-centerblock"},ys={id:"music-img-container"},gs=["alt","src"],vs={id:"music-progress"},fs={id:"btn-control"},hs={id:"btn-like",class:"button"},ks={id:"btn-play-control"},bs={id:"btn-prev",class:"button"},Ss={id:"btn-pause",class:"button"},Cs={id:"btn-next",class:"button"},Is={id:"btn-list",class:"button"},xs={class:"column",id:"column-lyric"},Bs={class:"lyric-list"},ws=["id"],zs={class:"lyric-roma"},Ls={class:"lyric-tran"},Ns={class:"player-playinglist"},Ts={__name:"player",setup(u){os(r=>({"20c334fd":t(f)})),D();let n=W(),{currentMusic:i}=G(n),v=h(),f=h(""),b=NaN;H(async()=>{J(()=>i.value.currentLyricIndex,r=>{var o;console.log("当前歌词改变"),v.value.scrollTo({top:((o=document.getElementById("lrc-"+r))==null?void 0:o.offsetTop)-200,behavior:"smooth"})},{deep:!0})}),K(()=>{clearInterval(b)});function S(){let r=Q(document.getElementById("music-img"),2);f.value=`linear-gradient(${r[0]}, ${r[1]})`}return(r,o)=>{const C=V,I=j,x=A,_=ns,B=F,w=R,z=q,L=O,N=P,T=$;return c(),g("div",ls,[s("div",cs,[as,s("div",rs,[s("div",_s,[s("div",ds,[s("div",us,[e(U,{html:t(n).nameWithTns},null,8,["html"])]),s("div",ps,p(t(i).artist),1),s("div",ms,[s("div",ys,[s("img",{alt:"专辑图片-"+t(i).name,src:t(i).picurl,id:"music-img",onLoad:S,crossorigin:"anonymous"},null,40,gs)]),s("div",vs,[e(C,{value:t(n).musicStatus.currentTime,"onUpdate:value":[o[0]||(o[0]=l=>t(n).musicStatus.currentTime=l),o[1]||(o[1]=l=>t(n).seek(l))],max:t(n).musicStatus.duration,tooltip:!1,"show-tooltip":!1},null,8,["value","max"])]),s("div",fs,[s("div",hs,[e(_,{size:"2.5rem",class:"icon"},{default:a(()=>{var l,d;return[(l=t(i))!=null&&l.isLiked?y("",!0):(c(),m(I,{key:0,onClick:o[2]||(o[2]=M=>k(t(i).id,!0))})),(d=t(i))!=null&&d.isLiked?(c(),m(x,{key:1,onClick:o[3]||(o[3]=M=>k(t(i).id,!1))})):y("",!0)]}),_:1})]),s("div",ks,[s("div",bs,[e(_,{size:"4rem",class:"icon",onClick:t(n).prev},{default:a(()=>[e(B)]),_:1},8,["onClick"])]),s("div",Ss,[t(n).musicStatus.paused?(c(),m(_,{key:0,size:"4rem",class:"icon",onClick:o[4]||(o[4]=()=>t(n).play())},{default:a(()=>[e(w)]),_:1})):y("",!0),t(n).musicStatus.paused?y("",!0):(c(),m(_,{key:1,size:"4rem",class:"icon",onClick:o[5]||(o[5]=()=>t(n).pause())},{default:a(()=>[e(z)]),_:1}))]),s("div",Cs,[e(_,{size:"4rem",class:"icon",onClick:t(n).next},{default:a(()=>[e(L)]),_:1},8,["onClick"])])]),s("div",Is,[e(_,{size:"2.5rem",class:"icon"},{default:a(()=>[e(N)]),_:1})])])])])]),s("div",xs,[e(T,{id:"container-lyric",ref_key:"lyricScrollbarRef",ref:v},{default:a(()=>[s("ul",Bs,[(c(!0),g(X,null,Y(t(i).lyric,(l,d)=>(c(),g("div",{key:d,class:Z({"lyric-active":t(i).currentLyricIndex==d})},[s("li",{class:"lyric-lrc",id:"lrc-"+d},p(l.lrc),9,ws),s("li",zs,p(l.roma),1),s("li",Ls,p(l.tran),1)],2))),128))])]),_:1},512)])])]),s("div",Ns,[e(E)])])}}},Rs=es(Ts,[["__scopeId","data-v-13fe0f02"]]);export{Rs as default};
