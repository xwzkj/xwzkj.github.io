import{Q as wr,L as qe,aC as mr,aD as Re,ad as ue,ae as de,aE as ae,aF as ie,aG as br,aH as yr,aI as Oe,aJ as Sr,aK as W,aL as er,aM as Te,aN as Cr,aO as U,aP as rr,aQ as we,aR as Ee,aS as Or,aT as Me,aU as Be,aV as q,aW as Tr,aX as Ie,aY as xr,aZ as $r,a_ as _r,a$ as Ar,b0 as Pr,b1 as Rr,b2 as Er,d as xe,n as F,t as B,ai as ee,y as ce,x as G,b3 as Mr,e as se,u as nr,A as k,r as P,f as Br,j as tr,g as H,v as Ir,E as Dr,a as Lr,w as Fr,D as re,b4 as De,p as ne,l as y,T as zr,b5 as Le,m as or,k as ar,b6 as fe,b7 as Hr,B as Wr,C as kr,b8 as Fe,b9 as Nr,ba as jr,F as Z,c as ir,bb as Kr,bc as Gr,bd as Ur}from"./index-CiBibxjP.js";import{c as ze,p as Xr,a as Vr,m as Yr,u as te,b as Jr,B as Zr,z as Qr,V as qr}from"./Follower-CqcCaWUm.js";import{f as pe}from"./plugin-vueexport-helper-Bcv8_rOQ.js";import{F as en}from"./index-B6djFG6C.js";import{u as rn}from"./use-compitable-DzE_j5PX.js";function nn(e,r=[],n){const t={};return r.forEach(a=>{t[a]=e[a]}),Object.assign(t,n)}function me(e,r=!0,n=[]){return e.forEach(t=>{if(t!==null){if(typeof t!="object"){(typeof t=="string"||typeof t=="number")&&n.push(wr(String(t)));return}if(Array.isArray(t)){me(t,r,n);return}if(t.type===qe){if(t.children===null)return;Array.isArray(t.children)&&me(t.children,r,n)}else{if(t.type===mr&&r)return;n.push(t)}}}),n}function He(e,r="default",n=void 0){const t=e[r];if(!t)return Re("getFirstSlotVNode",`slot[${r}] is empty`),null;const a=me(t(n));return a.length===1?a[0]:(Re("getFirstSlotVNode",`slot[${r}] should have exactly one child`),null)}let ve;function tn(){return ve===void 0&&(ve=navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),ve}const K="@@mmoContext",on={mounted(e,{value:r}){e[K]={handler:void 0},typeof r=="function"&&(e[K].handler=r,ue("mousemoveoutside",e,r))},updated(e,{value:r}){const n=e[K];typeof r=="function"?n.handler?n.handler!==r&&(de("mousemoveoutside",e,n.handler),n.handler=r,ue("mousemoveoutside",e,r)):(e[K].handler=r,ue("mousemoveoutside",e,r)):n.handler&&(de("mousemoveoutside",e,n.handler),n.handler=void 0)},unmounted(e){const{handler:r}=e[K];r&&de("mousemoveoutside",e,r),e[K].handler=void 0}};var be=ae(ie,"WeakMap"),an=br(Object.keys,Object),sn=Object.prototype,ln=sn.hasOwnProperty;function un(e){if(!yr(e))return an(e);var r=[];for(var n in Object(e))ln.call(e,n)&&n!="constructor"&&r.push(n);return r}function $e(e){return Oe(e)?Sr(e):un(e)}var dn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,cn=/^\w*$/;function _e(e,r){if(W(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||er(e)?!0:cn.test(e)||!dn.test(e)||r!=null&&e in Object(r)}var fn="Expected a function";function Ae(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(fn);var n=function(){var t=arguments,a=r?r.apply(this,t):t[0],o=n.cache;if(o.has(a))return o.get(a);var i=e.apply(this,t);return n.cache=o.set(a,i)||o,i};return n.cache=new(Ae.Cache||Te),n}Ae.Cache=Te;var pn=500;function vn(e){var r=Ae(e,function(t){return n.size===pn&&n.clear(),t}),n=r.cache;return r}var hn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,gn=/\\(\\)?/g,wn=vn(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(hn,function(n,t,a,o){r.push(a?o.replace(gn,"$1"):t||n)}),r});function sr(e,r){return W(e)?e:_e(e,r)?[e]:wn(Cr(e))}var mn=1/0;function le(e){if(typeof e=="string"||er(e))return e;var r=e+"";return r=="0"&&1/e==-mn?"-0":r}function lr(e,r){r=sr(r,e);for(var n=0,t=r.length;e!=null&&n<t;)e=e[le(r[n++])];return n&&n==t?e:void 0}function bn(e,r,n){var t=e==null?void 0:lr(e,r);return t===void 0?n:t}function yn(e,r){for(var n=-1,t=r.length,a=e.length;++n<t;)e[a+n]=r[n];return e}function Sn(e,r){for(var n=-1,t=e==null?0:e.length,a=0,o=[];++n<t;){var i=e[n];r(i,n,e)&&(o[a++]=i)}return o}function Cn(){return[]}var On=Object.prototype,Tn=On.propertyIsEnumerable,We=Object.getOwnPropertySymbols,xn=We?function(e){return e==null?[]:(e=Object(e),Sn(We(e),function(r){return Tn.call(e,r)}))}:Cn;function $n(e,r,n){var t=r(e);return W(e)?t:yn(t,n(e))}function ke(e){return $n(e,$e,xn)}var ye=ae(ie,"DataView"),Se=ae(ie,"Promise"),Ce=ae(ie,"Set"),Ne="[object Map]",_n="[object Object]",je="[object Promise]",Ke="[object Set]",Ge="[object WeakMap]",Ue="[object DataView]",An=U(ye),Pn=U(we),Rn=U(Se),En=U(Ce),Mn=U(be),z=rr;(ye&&z(new ye(new ArrayBuffer(1)))!=Ue||we&&z(new we)!=Ne||Se&&z(Se.resolve())!=je||Ce&&z(new Ce)!=Ke||be&&z(new be)!=Ge)&&(z=function(e){var r=rr(e),n=r==_n?e.constructor:void 0,t=n?U(n):"";if(t)switch(t){case An:return Ue;case Pn:return Ne;case Rn:return je;case En:return Ke;case Mn:return Ge}return r});var Bn="__lodash_hash_undefined__";function In(e){return this.__data__.set(e,Bn),this}function Dn(e){return this.__data__.has(e)}function oe(e){var r=-1,n=e==null?0:e.length;for(this.__data__=new Te;++r<n;)this.add(e[r])}oe.prototype.add=oe.prototype.push=In;oe.prototype.has=Dn;function Ln(e,r){for(var n=-1,t=e==null?0:e.length;++n<t;)if(r(e[n],n,e))return!0;return!1}function Fn(e,r){return e.has(r)}var zn=1,Hn=2;function ur(e,r,n,t,a,o){var i=n&zn,s=e.length,l=r.length;if(s!=l&&!(i&&l>s))return!1;var f=o.get(e),v=o.get(r);if(f&&v)return f==r&&v==e;var m=-1,b=!0,S=n&Hn?new oe:void 0;for(o.set(e,r),o.set(r,e);++m<s;){var C=e[m],c=r[m];if(t)var d=i?t(c,C,m,r,e,o):t(C,c,m,e,r,o);if(d!==void 0){if(d)continue;b=!1;break}if(S){if(!Ln(r,function(p,h){if(!Fn(S,h)&&(C===p||a(C,p,n,t,o)))return S.push(h)})){b=!1;break}}else if(!(C===c||a(C,c,n,t,o))){b=!1;break}}return o.delete(e),o.delete(r),b}function Wn(e){var r=-1,n=Array(e.size);return e.forEach(function(t,a){n[++r]=[a,t]}),n}function kn(e){var r=-1,n=Array(e.size);return e.forEach(function(t){n[++r]=t}),n}var Nn=1,jn=2,Kn="[object Boolean]",Gn="[object Date]",Un="[object Error]",Xn="[object Map]",Vn="[object Number]",Yn="[object RegExp]",Jn="[object Set]",Zn="[object String]",Qn="[object Symbol]",qn="[object ArrayBuffer]",et="[object DataView]",Xe=Ee?Ee.prototype:void 0,he=Xe?Xe.valueOf:void 0;function rt(e,r,n,t,a,o,i){switch(n){case et:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case qn:return!(e.byteLength!=r.byteLength||!o(new Me(e),new Me(r)));case Kn:case Gn:case Vn:return Or(+e,+r);case Un:return e.name==r.name&&e.message==r.message;case Yn:case Zn:return e==r+"";case Xn:var s=Wn;case Jn:var l=t&Nn;if(s||(s=kn),e.size!=r.size&&!l)return!1;var f=i.get(e);if(f)return f==r;t|=jn,i.set(e,r);var v=ur(s(e),s(r),t,a,o,i);return i.delete(e),v;case Qn:if(he)return he.call(e)==he.call(r)}return!1}var nt=1,tt=Object.prototype,ot=tt.hasOwnProperty;function at(e,r,n,t,a,o){var i=n&nt,s=ke(e),l=s.length,f=ke(r),v=f.length;if(l!=v&&!i)return!1;for(var m=l;m--;){var b=s[m];if(!(i?b in r:ot.call(r,b)))return!1}var S=o.get(e),C=o.get(r);if(S&&C)return S==r&&C==e;var c=!0;o.set(e,r),o.set(r,e);for(var d=i;++m<l;){b=s[m];var p=e[b],h=r[b];if(t)var _=i?t(h,p,b,r,e,o):t(p,h,b,e,r,o);if(!(_===void 0?p===h||a(p,h,n,t,o):_)){c=!1;break}d||(d=b=="constructor")}if(c&&!d){var R=e.constructor,M=r.constructor;R!=M&&"constructor"in e&&"constructor"in r&&!(typeof R=="function"&&R instanceof R&&typeof M=="function"&&M instanceof M)&&(c=!1)}return o.delete(e),o.delete(r),c}var it=1,Ve="[object Arguments]",Ye="[object Array]",Q="[object Object]",st=Object.prototype,Je=st.hasOwnProperty;function lt(e,r,n,t,a,o){var i=W(e),s=W(r),l=i?Ye:z(e),f=s?Ye:z(r);l=l==Ve?Q:l,f=f==Ve?Q:f;var v=l==Q,m=f==Q,b=l==f;if(b&&Be(e)){if(!Be(r))return!1;i=!0,v=!1}if(b&&!v)return o||(o=new q),i||Tr(e)?ur(e,r,n,t,a,o):rt(e,r,l,n,t,a,o);if(!(n&it)){var S=v&&Je.call(e,"__wrapped__"),C=m&&Je.call(r,"__wrapped__");if(S||C){var c=S?e.value():e,d=C?r.value():r;return o||(o=new q),a(c,d,n,t,o)}}return b?(o||(o=new q),at(e,r,n,t,a,o)):!1}function Pe(e,r,n,t,a){return e===r?!0:e==null||r==null||!Ie(e)&&!Ie(r)?e!==e&&r!==r:lt(e,r,n,t,Pe,a)}var ut=1,dt=2;function ct(e,r,n,t){var a=n.length,o=a;if(e==null)return!o;for(e=Object(e);a--;){var i=n[a];if(i[2]?i[1]!==e[i[0]]:!(i[0]in e))return!1}for(;++a<o;){i=n[a];var s=i[0],l=e[s],f=i[1];if(i[2]){if(l===void 0&&!(s in e))return!1}else{var v=new q,m;if(!(m===void 0?Pe(f,l,ut|dt,t,v):m))return!1}}return!0}function dr(e){return e===e&&!xr(e)}function ft(e){for(var r=$e(e),n=r.length;n--;){var t=r[n],a=e[t];r[n]=[t,a,dr(a)]}return r}function cr(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}function pt(e){var r=ft(e);return r.length==1&&r[0][2]?cr(r[0][0],r[0][1]):function(n){return n===e||ct(n,e,r)}}function vt(e,r){return e!=null&&r in Object(e)}function ht(e,r,n){r=sr(r,e);for(var t=-1,a=r.length,o=!1;++t<a;){var i=le(r[t]);if(!(o=e!=null&&n(e,i)))break;e=e[i]}return o||++t!=a?o:(a=e==null?0:e.length,!!a&&$r(a)&&_r(i,a)&&(W(e)||Ar(e)))}function gt(e,r){return e!=null&&ht(e,r,vt)}var wt=1,mt=2;function bt(e,r){return _e(e)&&dr(r)?cr(le(e),r):function(n){var t=bn(n,e);return t===void 0&&t===r?gt(n,e):Pe(r,t,wt|mt)}}function yt(e){return function(r){return r==null?void 0:r[e]}}function St(e){return function(r){return lr(r,e)}}function Ct(e){return _e(e)?yt(le(e)):St(e)}function Ot(e){return typeof e=="function"?e:e==null?Pr:typeof e=="object"?W(e)?bt(e[0],e[1]):pt(e):Ct(e)}function Tt(e,r){return e&&Rr(e,r,$e)}function xt(e,r){return function(n,t){if(n==null)return n;if(!Oe(n))return e(n,t);for(var a=n.length,o=-1,i=Object(n);++o<a&&t(i[o],o,i)!==!1;);return n}}var $t=xt(Tt);function _t(e,r){var n=-1,t=Oe(e)?Array(e.length):[];return $t(e,function(a,o,i){t[++n]=r(a,o,i)}),t}function At(e,r){var n=W(e)?Er:_t;return n(e,Ot(r))}const Pt={space:"6px",spaceArrow:"10px",arrowOffset:"10px",arrowOffsetVertical:"10px",arrowHeight:"6px",padding:"8px 14px"},Rt=e=>{const{boxShadow2:r,popoverColor:n,textColor2:t,borderRadius:a,fontSize:o,dividerColor:i}=e;return Object.assign(Object.assign({},Pt),{fontSize:o,borderRadius:a,color:n,dividerColor:i,textColor:t,boxShadow:r})},fr={name:"Popover",common:xe,self:Rt},ge={top:"bottom",bottom:"top",left:"right",right:"left"},O="var(--n-arrow-height) * 1.414",Et=F([B("popover",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 position: relative;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 box-shadow: var(--n-box-shadow);
 word-break: break-word;
 `,[F(">",[B("scrollbar",`
 height: inherit;
 max-height: inherit;
 `)]),ee("raw",`
 background-color: var(--n-color);
 border-radius: var(--n-border-radius);
 `,[ee("scrollable",[ee("show-header-or-footer","padding: var(--n-padding);")])]),ce("header",`
 padding: var(--n-padding);
 border-bottom: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `),ce("footer",`
 padding: var(--n-padding);
 border-top: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `),G("scrollable, show-header-or-footer",[ce("content",`
 padding: var(--n-padding);
 `)])]),B("popover-shared",`
 transform-origin: inherit;
 `,[B("popover-arrow-wrapper",`
 position: absolute;
 overflow: hidden;
 pointer-events: none;
 `,[B("popover-arrow",`
 transition: background-color .3s var(--n-bezier);
 position: absolute;
 display: block;
 width: calc(${O});
 height: calc(${O});
 box-shadow: 0 0 8px 0 rgba(0, 0, 0, .12);
 transform: rotate(45deg);
 background-color: var(--n-color);
 pointer-events: all;
 `)]),F("&.popover-transition-enter-from, &.popover-transition-leave-to",`
 opacity: 0;
 transform: scale(.85);
 `),F("&.popover-transition-enter-to, &.popover-transition-leave-from",`
 transform: scale(1);
 opacity: 1;
 `),F("&.popover-transition-enter-active",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .15s var(--n-bezier-ease-out),
 transform .15s var(--n-bezier-ease-out);
 `),F("&.popover-transition-leave-active",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .15s var(--n-bezier-ease-in),
 transform .15s var(--n-bezier-ease-in);
 `)]),E("top-start",`
 top: calc(${O} / -2);
 left: calc(${D("top-start")} - var(--v-offset-left));
 `),E("top",`
 top: calc(${O} / -2);
 transform: translateX(calc(${O} / -2)) rotate(45deg);
 left: 50%;
 `),E("top-end",`
 top: calc(${O} / -2);
 right: calc(${D("top-end")} + var(--v-offset-left));
 `),E("bottom-start",`
 bottom: calc(${O} / -2);
 left: calc(${D("bottom-start")} - var(--v-offset-left));
 `),E("bottom",`
 bottom: calc(${O} / -2);
 transform: translateX(calc(${O} / -2)) rotate(45deg);
 left: 50%;
 `),E("bottom-end",`
 bottom: calc(${O} / -2);
 right: calc(${D("bottom-end")} + var(--v-offset-left));
 `),E("left-start",`
 left: calc(${O} / -2);
 top: calc(${D("left-start")} - var(--v-offset-top));
 `),E("left",`
 left: calc(${O} / -2);
 transform: translateY(calc(${O} / -2)) rotate(45deg);
 top: 50%;
 `),E("left-end",`
 left: calc(${O} / -2);
 bottom: calc(${D("left-end")} + var(--v-offset-top));
 `),E("right-start",`
 right: calc(${O} / -2);
 top: calc(${D("right-start")} - var(--v-offset-top));
 `),E("right",`
 right: calc(${O} / -2);
 transform: translateY(calc(${O} / -2)) rotate(45deg);
 top: 50%;
 `),E("right-end",`
 right: calc(${O} / -2);
 bottom: calc(${D("right-end")} + var(--v-offset-top));
 `),...At({top:["right-start","left-start"],right:["top-end","bottom-end"],bottom:["right-end","left-end"],left:["top-start","bottom-start"]},(e,r)=>{const n=["right","left"].includes(r),t=n?"width":"height";return e.map(a=>{const o=a.split("-")[1]==="end",s=`calc((${`var(--v-target-${t}, 0px)`} - ${O}) / 2)`,l=D(a);return F(`[v-placement="${a}"] >`,[B("popover-shared",[G("center-arrow",[B("popover-arrow",`${r}: calc(max(${s}, ${l}) ${o?"+":"-"} var(--v-offset-${n?"left":"top"}));`)])])])})})]);function D(e){return["top","bottom"].includes(e.split("-")[0])?"var(--n-arrow-offset)":"var(--n-arrow-offset-vertical)"}function E(e,r){const n=e.split("-")[0],t=["top","bottom"].includes(n)?"height: var(--n-space-arrow);":"width: var(--n-space-arrow);";return F(`[v-placement="${e}"] >`,[B("popover-shared",`
 margin-${ge[n]}: var(--n-space);
 `,[G("show-arrow",`
 margin-${ge[n]}: var(--n-space-arrow);
 `),G("overlap",`
 margin: 0;
 `),Mr("popover-arrow-wrapper",`
 right: 0;
 left: 0;
 top: 0;
 bottom: 0;
 ${n}: 100%;
 ${ge[n]}: auto;
 ${t}
 `,[B("popover-arrow",r)])])])}const pr=Object.assign(Object.assign({},k.props),{to:te.propTo,show:Boolean,trigger:String,showArrow:Boolean,delay:Number,duration:Number,raw:Boolean,arrowPointToCenter:Boolean,arrowClass:String,arrowStyle:[String,Object],arrowWrapperClass:String,arrowWrapperStyle:[String,Object],displayDirective:String,x:Number,y:Number,flip:Boolean,overlap:Boolean,placement:String,width:[Number,String],keepAliveOnHover:Boolean,scrollable:Boolean,contentClass:String,contentStyle:[Object,String],headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],internalDeactivateImmediately:Boolean,animated:Boolean,onClickoutside:Function,internalTrapFocus:Boolean,internalOnAfterLeave:Function,minWidth:Number,maxWidth:Number}),Mt=({arrowClass:e,arrowStyle:r,arrowWrapperClass:n,arrowWrapperStyle:t,clsPrefix:a})=>y("div",{key:"__popover-arrow__",style:t,class:[`${a}-popover-arrow-wrapper`,n]},y("div",{class:[`${a}-popover-arrow`,e],style:r})),Bt=se({name:"PopoverBody",inheritAttrs:!1,props:pr,setup(e,{slots:r,attrs:n}){const{namespaceRef:t,mergedClsPrefixRef:a,inlineThemeDisabled:o}=nr(e),i=k("Popover","-popover",Et,fr,e,a),s=P(null),l=Br("NPopover"),f=P(null),v=P(e.show),m=P(!1);tr(()=>{const{show:g}=e;g&&!tn()&&!e.internalDeactivateImmediately&&(m.value=!0)});const b=H(()=>{const{trigger:g,onClickoutside:x}=e,$=[],{positionManuallyRef:{value:w}}=l;return w||(g==="click"&&!x&&$.push([ze,R,void 0,{capture:!0}]),g==="hover"&&$.push([on,_])),x&&$.push([ze,R,void 0,{capture:!0}]),(e.displayDirective==="show"||e.animated&&m.value)&&$.push([Ir,e.show]),$}),S=H(()=>{const g=e.width==="trigger"?void 0:pe(e.width),x=[];g&&x.push({width:g});const{maxWidth:$,minWidth:w}=e;return $&&x.push({maxWidth:pe($)}),w&&x.push({maxWidth:pe(w)}),o||x.push(C.value),x}),C=H(()=>{const{common:{cubicBezierEaseInOut:g,cubicBezierEaseIn:x,cubicBezierEaseOut:$},self:{space:w,spaceArrow:V,padding:Y,fontSize:L,textColor:J,dividerColor:u,color:T,boxShadow:A,borderRadius:N,arrowHeight:j,arrowOffset:I,arrowOffsetVertical:gr}}=i.value;return{"--n-box-shadow":A,"--n-bezier":g,"--n-bezier-ease-in":x,"--n-bezier-ease-out":$,"--n-font-size":L,"--n-text-color":J,"--n-color":T,"--n-divider-color":u,"--n-border-radius":N,"--n-arrow-height":j,"--n-arrow-offset":I,"--n-arrow-offset-vertical":gr,"--n-padding":Y,"--n-space":w,"--n-space-arrow":V}}),c=o?Dr("popover",void 0,C,e):void 0;l.setBodyInstance({syncPosition:d}),Lr(()=>{l.setBodyInstance(null)}),Fr(re(e,"show"),g=>{e.animated||(g?v.value=!0:v.value=!1)});function d(){var g;(g=s.value)===null||g===void 0||g.syncPosition()}function p(g){e.trigger==="hover"&&e.keepAliveOnHover&&e.show&&l.handleMouseEnter(g)}function h(g){e.trigger==="hover"&&e.keepAliveOnHover&&l.handleMouseLeave(g)}function _(g){e.trigger==="hover"&&!M().contains(De(g))&&l.handleMouseMoveOutside(g)}function R(g){(e.trigger==="click"&&!M().contains(De(g))||e.onClickoutside)&&l.handleClickOutside(g)}function M(){return l.getTriggerElement()}ne(Xr,f),ne(Vr,null),ne(Yr,null);function X(){if(c==null||c.onRender(),!(e.displayDirective==="show"||e.show||e.animated&&m.value))return null;let x;const $=l.internalRenderBodyRef.value,{value:w}=a;if($)x=$([`${w}-popover-shared`,c==null?void 0:c.themeClass.value,e.overlap&&`${w}-popover-shared--overlap`,e.showArrow&&`${w}-popover-shared--show-arrow`,e.arrowPointToCenter&&`${w}-popover-shared--center-arrow`],f,S.value,p,h);else{const{value:V}=l.extraClassRef,{internalTrapFocus:Y}=e,L=!Le(r.header)||!Le(r.footer),J=()=>{var u,T;const A=L?y(qe,null,fe(r.header,I=>I?y("div",{class:[`${w}-popover__header`,e.headerClass],style:e.headerStyle},I):null),fe(r.default,I=>I?y("div",{class:[`${w}-popover__content`,e.contentClass],style:e.contentStyle},r):null),fe(r.footer,I=>I?y("div",{class:[`${w}-popover__footer`,e.footerClass],style:e.footerStyle},I):null)):e.scrollable?(u=r.default)===null||u===void 0?void 0:u.call(r):y("div",{class:[`${w}-popover__content`,e.contentClass],style:e.contentStyle},r),N=e.scrollable?y(Hr,{contentClass:L?void 0:`${w}-popover__content ${(T=e.contentClass)!==null&&T!==void 0?T:""}`,contentStyle:L?void 0:e.contentStyle},{default:()=>A}):A,j=e.showArrow?Mt({arrowClass:e.arrowClass,arrowStyle:e.arrowStyle,arrowWrapperClass:e.arrowWrapperClass,arrowWrapperStyle:e.arrowWrapperStyle,clsPrefix:w}):null;return[N,j]};x=y("div",or({class:[`${w}-popover`,`${w}-popover-shared`,c==null?void 0:c.themeClass.value,V.map(u=>`${w}-${u}`),{[`${w}-popover--scrollable`]:e.scrollable,[`${w}-popover--show-header-or-footer`]:L,[`${w}-popover--raw`]:e.raw,[`${w}-popover-shared--overlap`]:e.overlap,[`${w}-popover-shared--show-arrow`]:e.showArrow,[`${w}-popover-shared--center-arrow`]:e.arrowPointToCenter}],ref:f,style:S.value,onKeydown:l.handleKeydown,onMouseenter:p,onMouseleave:h},n),Y?y(en,{active:e.show,autoFocus:!0},{default:J}):J())}return ar(x,b.value)}return{displayed:m,namespace:t,isMounted:l.isMountedRef,zIndex:l.zIndexRef,followerRef:s,adjustedTo:te(e),followerEnabled:v,renderContentNode:X}},render(){return y(Jr,{ref:"followerRef",zIndex:this.zIndex,show:this.show,enabled:this.followerEnabled,to:this.adjustedTo,x:this.x,y:this.y,flip:this.flip,placement:this.placement,containerClass:this.namespace,overlap:this.overlap,width:this.width==="trigger"?"target":void 0,teleportDisabled:this.adjustedTo===te.tdkey},{default:()=>this.animated?y(zr,{name:"popover-transition",appear:this.isMounted,onEnter:()=>{this.followerEnabled=!0},onAfterLeave:()=>{var e;(e=this.internalOnAfterLeave)===null||e===void 0||e.call(this),this.followerEnabled=!1,this.displayed=!1}},{default:this.renderContentNode}):this.renderContentNode()})}}),It=Object.keys(pr),Dt={focus:["onFocus","onBlur"],click:["onClick"],hover:["onMouseenter","onMouseleave"],manual:[],nested:["onFocus","onBlur","onMouseenter","onMouseleave","onClick"]};function Lt(e,r,n){Dt[r].forEach(t=>{e.props?e.props=Object.assign({},e.props):e.props={};const a=e.props[t],o=n[t];a?e.props[t]=(...i)=>{a(...i),o(...i)}:e.props[t]=o})}const vr={show:{type:Boolean,default:void 0},defaultShow:Boolean,showArrow:{type:Boolean,default:!0},trigger:{type:String,default:"hover"},delay:{type:Number,default:100},duration:{type:Number,default:100},raw:Boolean,placement:{type:String,default:"top"},x:Number,y:Number,arrowPointToCenter:Boolean,disabled:Boolean,getDisabled:Function,displayDirective:{type:String,default:"if"},arrowClass:String,arrowStyle:[String,Object],arrowWrapperClass:String,arrowWrapperStyle:[String,Object],flip:{type:Boolean,default:!0},animated:{type:Boolean,default:!0},width:{type:[Number,String],default:void 0},overlap:Boolean,keepAliveOnHover:{type:Boolean,default:!0},zIndex:Number,to:te.propTo,scrollable:Boolean,contentClass:String,contentStyle:[Object,String],headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],onClickoutside:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],internalDeactivateImmediately:Boolean,internalSyncTargetWithParent:Boolean,internalInheritedEventHandlers:{type:Array,default:()=>[]},internalTrapFocus:Boolean,internalExtraClass:{type:Array,default:()=>[]},onShow:[Function,Array],onHide:[Function,Array],arrow:{type:Boolean,default:void 0},minWidth:Number,maxWidth:Number},Ft=Object.assign(Object.assign(Object.assign({},k.props),vr),{internalOnAfterLeave:Function,internalRenderBody:Function}),zt=se({name:"Popover",inheritAttrs:!1,props:Ft,__popover__:!0,setup(e){const r=Wr(),n=P(null),t=H(()=>e.show),a=P(e.defaultShow),o=kr(t,a),i=Fe(()=>e.disabled?!1:o.value),s=()=>{if(e.disabled)return!0;const{getDisabled:u}=e;return!!(u!=null&&u())},l=()=>s()?!1:o.value,f=rn(e,["arrow","showArrow"]),v=H(()=>e.overlap?!1:f.value);let m=null;const b=P(null),S=P(null),C=Fe(()=>e.x!==void 0&&e.y!==void 0);function c(u){const{"onUpdate:show":T,onUpdateShow:A,onShow:N,onHide:j}=e;a.value=u,T&&Z(T,u),A&&Z(A,u),u&&N&&Z(N,!0),u&&j&&Z(j,!1)}function d(){m&&m.syncPosition()}function p(){const{value:u}=b;u&&(window.clearTimeout(u),b.value=null)}function h(){const{value:u}=S;u&&(window.clearTimeout(u),S.value=null)}function _(){const u=s();if(e.trigger==="focus"&&!u){if(l())return;c(!0)}}function R(){const u=s();if(e.trigger==="focus"&&!u){if(!l())return;c(!1)}}function M(){const u=s();if(e.trigger==="hover"&&!u){if(h(),b.value!==null||l())return;const T=()=>{c(!0),b.value=null},{delay:A}=e;A===0?T():b.value=window.setTimeout(T,A)}}function X(){const u=s();if(e.trigger==="hover"&&!u){if(p(),S.value!==null||!l())return;const T=()=>{c(!1),S.value=null},{duration:A}=e;A===0?T():S.value=window.setTimeout(T,A)}}function g(){X()}function x(u){var T;l()&&(e.trigger==="click"&&(p(),h(),c(!1)),(T=e.onClickoutside)===null||T===void 0||T.call(e,u))}function $(){if(e.trigger==="click"&&!s()){p(),h();const u=!l();c(u)}}function w(u){e.internalTrapFocus&&u.key==="Escape"&&(p(),h(),c(!1))}function V(u){a.value=u}function Y(){var u;return(u=n.value)===null||u===void 0?void 0:u.targetRef}function L(u){m=u}return ne("NPopover",{getTriggerElement:Y,handleKeydown:w,handleMouseEnter:M,handleMouseLeave:X,handleClickOutside:x,handleMouseMoveOutside:g,setBodyInstance:L,positionManuallyRef:C,isMountedRef:r,zIndexRef:re(e,"zIndex"),extraClassRef:re(e,"internalExtraClass"),internalRenderBodyRef:re(e,"internalRenderBody")}),tr(()=>{o.value&&s()&&c(!1)}),{binderInstRef:n,positionManually:C,mergedShowConsideringDisabledProp:i,uncontrolledShow:a,mergedShowArrow:v,getMergedShow:l,setShow:V,handleClick:$,handleMouseEnter:M,handleMouseLeave:X,handleFocus:_,handleBlur:R,syncPosition:d}},render(){var e;const{positionManually:r,$slots:n}=this;let t,a=!1;if(!r&&(n.activator?t=He(n,"activator"):t=He(n,"trigger"),t)){t=Nr(t),t=t.type===jr?y("span",[t]):t;const o={onClick:this.handleClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onFocus:this.handleFocus,onBlur:this.handleBlur};if(!((e=t.type)===null||e===void 0)&&e.__popover__)a=!0,t.props||(t.props={internalSyncTargetWithParent:!0,internalInheritedEventHandlers:[]}),t.props.internalSyncTargetWithParent=!0,t.props.internalInheritedEventHandlers?t.props.internalInheritedEventHandlers=[o,...t.props.internalInheritedEventHandlers]:t.props.internalInheritedEventHandlers=[o];else{const{internalInheritedEventHandlers:i}=this,s=[o,...i],l={onBlur:f=>{s.forEach(v=>{v.onBlur(f)})},onFocus:f=>{s.forEach(v=>{v.onFocus(f)})},onClick:f=>{s.forEach(v=>{v.onClick(f)})},onMouseenter:f=>{s.forEach(v=>{v.onMouseenter(f)})},onMouseleave:f=>{s.forEach(v=>{v.onMouseleave(f)})}};Lt(t,i?"nested":r?"manual":this.trigger,l)}}return y(Zr,{ref:"binderInstRef",syncTarget:!a,syncTargetWithParent:this.internalSyncTargetWithParent},{default:()=>{this.mergedShowConsideringDisabledProp;const o=this.getMergedShow();return[this.internalTrapFocus&&o?ar(y("div",{style:{position:"fixed",inset:0}}),[[Qr,{enabled:o,zIndex:this.zIndex}]]):null,r?null:y(qr,null,{default:()=>t}),y(Bt,nn(this.$props,It,Object.assign(Object.assign({},this.$attrs),{showArrow:this.mergedShowArrow,show:o})),{default:()=>{var i,s;return(s=(i=this.$slots).default)===null||s===void 0?void 0:s.call(i)},header:()=>{var i,s;return(s=(i=this.$slots).header)===null||s===void 0?void 0:s.call(i)},footer:()=>{var i,s;return(s=(i=this.$slots).footer)===null||s===void 0?void 0:s.call(i)}})]}})}}),Ht={padding:"8px 14px"},Wt=e=>{const{borderRadius:r,boxShadow2:n,baseColor:t}=e;return Object.assign(Object.assign({},Ht),{borderRadius:r,boxShadow:n,color:Kr(t,"rgba(0, 0, 0, .85)"),textColor:t})},hr=ir({name:"Tooltip",common:xe,peers:{Popover:fr},self:Wt}),kt=ir({name:"Ellipsis",common:xe,peers:{Tooltip:hr}}),Nt=Object.assign(Object.assign({},vr),k.props),jt=se({name:"Tooltip",props:Nt,__popover__:!0,setup(e){const{mergedClsPrefixRef:r}=nr(e),n=k("Tooltip","-tooltip",void 0,hr,e,r),t=P(null);return Object.assign(Object.assign({},{syncPosition(){t.value.syncPosition()},setShow(o){t.value.setShow(o)}}),{popoverRef:t,mergedTheme:n,popoverThemeOverrides:H(()=>n.value.self)})},render(){const{mergedTheme:e,internalExtraClass:r}=this;return y(zt,Object.assign(Object.assign({},this.$props),{theme:e.peers.Popover,themeOverrides:e.peerOverrides.Popover,builtinThemeOverrides:this.popoverThemeOverrides,internalExtraClass:r.concat("tooltip"),ref:"popoverRef"}),this.$slots)}}),Kt=B("ellipsis",{overflow:"hidden"},[ee("line-clamp",`
 white-space: nowrap;
 display: inline-block;
 vertical-align: bottom;
 max-width: 100%;
 `),G("line-clamp",`
 display: -webkit-inline-box;
 -webkit-box-orient: vertical;
 `),G("cursor-pointer",`
 cursor: pointer;
 `)]);function Ze(e){return`${e}-ellipsis--line-clamp`}function Qe(e,r){return`${e}-ellipsis--cursor-${r}`}const Gt=Object.assign(Object.assign({},k.props),{expandTrigger:String,lineClamp:[Number,String],tooltip:{type:[Boolean,Object],default:!0}}),Zt=se({name:"Ellipsis",inheritAttrs:!1,props:Gt,setup(e,{slots:r,attrs:n}){const t=Gr(),a=k("Ellipsis","-ellipsis",Kt,kt,e,t),o=P(null),i=P(null),s=P(null),l=P(!1),f=H(()=>{const{lineClamp:d}=e,{value:p}=l;return d!==void 0?{textOverflow:"","-webkit-line-clamp":p?"":d}:{textOverflow:p?"":"ellipsis","-webkit-line-clamp":""}});function v(){let d=!1;const{value:p}=l;if(p)return!0;const{value:h}=o;if(h){const{lineClamp:_}=e;if(S(h),_!==void 0)d=h.scrollHeight<=h.offsetHeight;else{const{value:R}=i;R&&(d=R.getBoundingClientRect().width<=h.getBoundingClientRect().width)}C(h,d)}return d}const m=H(()=>e.expandTrigger==="click"?()=>{var d;const{value:p}=l;p&&((d=s.value)===null||d===void 0||d.setShow(!1)),l.value=!p}:void 0);Ur(()=>{var d;e.tooltip&&((d=s.value)===null||d===void 0||d.setShow(!1))});const b=()=>y("span",Object.assign({},or(n,{class:[`${t.value}-ellipsis`,e.lineClamp!==void 0?Ze(t.value):void 0,e.expandTrigger==="click"?Qe(t.value,"pointer"):void 0],style:f.value}),{ref:"triggerRef",onClick:m.value,onMouseenter:e.expandTrigger==="click"?v:void 0}),e.lineClamp?r:y("span",{ref:"triggerInnerRef"},r));function S(d){if(!d)return;const p=f.value,h=Ze(t.value);e.lineClamp!==void 0?c(d,h,"add"):c(d,h,"remove");for(const _ in p)d.style[_]!==p[_]&&(d.style[_]=p[_])}function C(d,p){const h=Qe(t.value,"pointer");e.expandTrigger==="click"&&!p?c(d,h,"add"):c(d,h,"remove")}function c(d,p,h){h==="add"?d.classList.contains(p)||d.classList.add(p):d.classList.contains(p)&&d.classList.remove(p)}return{mergedTheme:a,triggerRef:o,triggerInnerRef:i,tooltipRef:s,handleClick:m,renderTrigger:b,getTooltipDisabled:v}},render(){var e;const{tooltip:r,renderTrigger:n,$slots:t}=this;if(r){const{mergedTheme:a}=this;return y(jt,Object.assign({ref:"tooltipRef",placement:"top"},r,{getDisabled:this.getTooltipDisabled,theme:a.peers.Tooltip,themeOverrides:a.peerOverrides.Tooltip}),{trigger:n,default:(e=t.tooltip)!==null&&e!==void 0?e:t.default})}else return n()}});export{Zt as _};
