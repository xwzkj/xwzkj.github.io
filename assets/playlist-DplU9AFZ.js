import{j as S,a8 as j,a$ as M,ak as q,x as F,b0 as G,am as b,Q as w,G as E,L as I,$ as H,a0 as J,b1 as L,f as K,U as D,V as P,b2 as y,b3 as B,I as O,ar as Q,b4 as Y,aB as Z,w as W,o as X,b5 as ee,b6 as te,u as d,B as _,C as x,al as m,S as N,a5 as h,J as se,an as ae,P as le,aC as $}from"./index-OS7v5Vwz.js";import{E as oe}from"./el-button-BgPohw3o.js";import{m as ne,N as re}from"./musicList-J1UKbO9N.js";import{_ as ie}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-form-item-CrEXh3yC.js";import"./use-form-common-props-CEc8WKjy.js";import"./light-BN_uxXOF.js";import"./isArguments-I_hyfNLX.js";function ce(s){let e;const t=S(!1),a=j({...s,originalPosition:"",originalOverflow:"",visible:!1});function n(l){a.text=l}function o(){const l=a.parent,c=f.ns;if(!l.vLoadingAddClassList){let v=l.getAttribute("loading-number");v=Number.parseInt(v)-1,v?l.setAttribute("loading-number",v.toString()):(L(l,c.bm("parent","relative")),l.removeAttribute("loading-number")),L(l,c.bm("parent","hidden"))}r(),g.unmount()}function r(){var l,c;(c=(l=f.$el)==null?void 0:l.parentNode)==null||c.removeChild(f.$el)}function i(){var l;s.beforeClose&&!s.beforeClose()||(t.value=!0,clearTimeout(e),e=window.setTimeout(p,400),a.visible=!1,(l=s.closed)==null||l.call(s))}function p(){if(!t.value)return;const l=a.parent;t.value=!1,l.vLoadingAddClassList=void 0,o()}const u=F({name:"ElLoading",setup(l,{expose:c}){const{ns:v,zIndex:U}=G("loading");return c({ns:v,zIndex:U}),()=>{const A=a.spinner||a.svg,z=b("svg",{class:"circular",viewBox:a.svgViewBox?a.svgViewBox:"0 0 50 50",...A?{innerHTML:A}:{}},[b("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),R=a.text?b("p",{class:v.b("text")},[a.text]):void 0;return b(J,{name:v.b("fade"),onAfterLeave:p},{default:w(()=>[E(I("div",{style:{backgroundColor:a.background||""},class:[v.b("mask"),a.customClass,a.fullscreen?"is-fullscreen":""]},[b("div",{class:v.b("spinner")},[z,R])]),[[H,a.visible]])])})}}}),g=M(u),f=g.mount(document.createElement("div"));return{...q(a),setText:n,removeElLoadingChild:r,close:i,handleAfterLeave:p,vm:f,get $el(){return f.$el}}}let C;const de=function(s={}){if(!K)return;const e=ue(s);if(e.fullscreen&&C)return C;const t=ce({...e,closed:()=>{var n;(n=e.closed)==null||n.call(e),e.fullscreen&&(C=void 0)}});ve(e,e.parent,t),T(e,e.parent,t),e.parent.vLoadingAddClassList=()=>T(e,e.parent,t);let a=e.parent.getAttribute("loading-number");return a?a=`${Number.parseInt(a)+1}`:a="1",e.parent.setAttribute("loading-number",a),e.parent.appendChild(t.$el),D(()=>t.visible.value=e.visible),e.fullscreen&&(C=t),t},ue=s=>{var e,t,a,n;let o;return P(s.target)?o=(e=document.querySelector(s.target))!=null?e:document.body:o=s.target||document.body,{parent:o===document.body||s.body?document.body:o,background:s.background||"",svg:s.svg||"",svgViewBox:s.svgViewBox||"",spinner:s.spinner||!1,text:s.text||"",fullscreen:o===document.body&&((t=s.fullscreen)!=null?t:!0),lock:(a=s.lock)!=null?a:!1,customClass:s.customClass||"",visible:(n=s.visible)!=null?n:!0,target:o}},ve=async(s,e,t)=>{const{nextZIndex:a}=t.vm.zIndex||t.vm._.exposed.zIndex,n={};if(s.fullscreen)t.originalPosition.value=y(document.body,"position"),t.originalOverflow.value=y(document.body,"overflow"),n.zIndex=a();else if(s.parent===document.body){t.originalPosition.value=y(document.body,"position"),await D();for(const o of["top","left"]){const r=o==="top"?"scrollTop":"scrollLeft";n[o]=`${s.target.getBoundingClientRect()[o]+document.body[r]+document.documentElement[r]-Number.parseInt(y(document.body,`margin-${o}`),10)}px`}for(const o of["height","width"])n[o]=`${s.target.getBoundingClientRect()[o]}px`}else t.originalPosition.value=y(e,"position");for(const[o,r]of Object.entries(n))t.$el.style[o]=r},T=(s,e,t)=>{const a=t.vm.ns||t.vm._.exposed.ns;["absolute","fixed","sticky"].includes(t.originalPosition.value)?L(e,a.bm("parent","relative")):B(e,a.bm("parent","relative")),s.fullscreen&&s.lock?B(e,a.bm("parent","hidden")):L(e,a.bm("parent","hidden"))},k=Symbol("ElLoading"),V=(s,e)=>{var t,a,n,o;const r=e.instance,i=l=>O(e.value)?e.value[l]:void 0,p=l=>{const c=P(l)&&(r==null?void 0:r[l])||l;return c&&S(c)},u=l=>p(i(l)||s.getAttribute(`element-loading-${Y(l)}`)),g=(t=i("fullscreen"))!=null?t:e.modifiers.fullscreen,f={text:u("text"),svg:u("svg"),svgViewBox:u("svgViewBox"),spinner:u("spinner"),background:u("background"),customClass:u("customClass"),fullscreen:g,target:(a=i("target"))!=null?a:g?void 0:s,body:(n=i("body"))!=null?n:e.modifiers.body,lock:(o=i("lock"))!=null?o:e.modifiers.lock};s[k]={options:f,instance:de(f)}},me=(s,e)=>{for(const t of Object.keys(e))Q(e[t])&&(e[t].value=s[t])},fe={mounted(s,e){e.value&&V(s,e)},updated(s,e){const t=s[k];e.oldValue!==e.value&&(e.value&&!e.oldValue?V(s,e):e.value&&e.oldValue?O(e.value)&&me(e.value,t.options):t==null||t.instance.close())},unmounted(s){var e;(e=s[k])==null||e.instance.close(),s[k]=null}},pe={id:"playlistDetail"},ge=["src"],be={id:"playlistInfo"},ye={id:"playlistName"},_e={key:0,id:"playlistAuthor"},xe=["src"],he={id:"playlistAuthorName"},Ce={id:"playlistTagContainer"},ke={id:"playlistDesc"},Le={id:"playlistControler"},we={id:"playlistMusicList"},Ie={__name:"playlist",props:["id","isDailySongs"],setup(s){const e=Z();let t=S([]),a=s;W(a,()=>{t.value={},n()},{deep:!0}),X(()=>{n()});async function n(){if(a.isDailySongs){let r=await ee(),i=new Date;t.value={tracks:r.data.data.dailySongs,name:`${i.getMonth()+1}/${i.getDate()} 每日推荐`,description:"根据你的音乐口味生成，每天06:00更新",coverImgUrl:r.data.data.dailySongs[0].al.picUrl,tags:["每日推荐"]}}else{let r=await te(a.id);t.value=r.data.playlist}}function o(r){e.push({name:"player",query:{id:r}})}return(r,i)=>{const p=oe,u=fe;return E((_(),x("div",null,[m("div",pe,[d(t).coverImgUrl?(_(),x("img",{key:0,id:"playlistImg",src:d(t).coverImgUrl},null,8,ge)):N("",!0),m("div",be,[m("div",ye,h(d(t).name),1),d(t).creator?(_(),x("div",_e,[m("img",{id:"playlistAuthorAvatar",src:d(t).creator.avatarUrl},null,8,xe),m("div",he,h(d(t).creator.nickname),1),m("span",Ce,[(_(!0),x(se,null,ae(d(t).tags,g=>(_(),le(d(re),{type:"success",size:"small",class:"playlistTag"},{default:w(()=>[$(h(g),1)]),_:2},1024))),256))])])):N("",!0),m("div",ke,h(d(t).description),1),m("div",Le,[I(p,null,{default:w(()=>[$("播放全部")]),_:1})])])]),m("div",we,[I(ne,{value:d(t).tracks,nameOnClick:o},null,8,["value"])])])),[[u,!d(t).tracks]])}}},De=ie(Ie,[["__scopeId","data-v-42cd56c6"]]);export{De as default};
